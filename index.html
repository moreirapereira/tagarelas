<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tagarelas √† Solta ‚Äî Jardim de Inf√¢ncia em P√≥voa de Santa Iria</title>
<meta name="description" content="Jardim de Inf√¢ncia de refer√™ncia em P√≥voa de Santa Iria, Lisboa. Educa√ß√£o pr√©-escolar dos 3 aos 6 anos com amor, seguran√ßa e alegria. Creche em breve.">
<meta name="keywords" content="jardim de inf√¢ncia, P√≥voa de Santa Iria, pr√©-escolar, creche, educa√ß√£o infantil, Tagarelas √† Solta, Lisboa">
<meta name="author" content="Tagarelas √† Solta">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://tagarelasasolta.pt/">
<link rel="alternate" hreflang="pt" href="https://tagarelasasolta.pt/">
<link rel="alternate" hreflang="en" href="https://tagarelasasolta.pt/?lang=en">

<!-- Favicon -->
<link rel="icon" type="image/png" href="/img/gallery/logo.png">
<link rel="apple-touch-icon" href="/img/gallery/logo.png">

<!-- Open Graph (Facebook, LinkedIn, WhatsApp) -->
<meta property="og:type" content="website">
<meta property="og:title" content="Tagarelas √† Solta ‚Äî Jardim de Inf√¢ncia em P√≥voa de Santa Iria">
<meta property="og:description" content="Educa√ß√£o pr√©-escolar dos 3 aos 6 anos com amor, seguran√ßa e alegria. Cada crian√ßa no centro de tudo o que fazemos.">
<meta property="og:image" content="https://tagarelasasolta.pt/img/gallery/logo.png">
<meta property="og:url" content="https://tagarelasasolta.pt/">
<meta property="og:site_name" content="Tagarelas √† Solta">
<meta property="og:locale" content="pt_PT">
<meta property="og:locale:alternate" content="en_GB">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Tagarelas √† Solta ‚Äî Jardim de Inf√¢ncia">
<meta name="twitter:description" content="Educa√ß√£o pr√©-escolar dos 3 aos 6 anos em P√≥voa de Santa Iria. Amor, seguran√ßa e alegria.">
<meta name="twitter:image" content="https://tagarelasasolta.pt/img/gallery/logo.png">

<!-- Structured Data (JSON-LD) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ChildCare",
  "name": "Tagarelas √† Solta",
  "description": "Jardim de Inf√¢ncia de refer√™ncia em P√≥voa de Santa Iria. Educa√ß√£o pr√©-escolar dos 3 aos 6 anos.",
  "url": "https://tagarelasasolta.pt/",
  "logo": "https://tagarelasasolta.pt/img/gallery/logo.png",
  "image": "https://tagarelasasolta.pt/img/gallery/background.jpg",
  "telephone": "+351910588380",
  "email": "tagarelasasolta@sapo.pt",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Alameda de Aristides Sousa Mendes n.¬∫ 8 Loja R/C Drt¬∫",
    "addressLocality": "P√≥voa de Santa Iria",
    "postalCode": "2625-045",
    "addressCountry": "PT"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": 38.8538548,
    "longitude": -9.068167599999999
  },
  "openingHours": "Mo-Fr 07:00-19:30",
  "priceRange": "$$",
  "sameAs": [
    "https://www.facebook.com/p/Tagarelas-%C3%A0-Solta-100089645323231/",
    "https://www.instagram.com/tagarelas_a_solta/"
  ],
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "reviewCount": "3",
    "bestRating": "5"
  }
}
</script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600&family=Caveat:wght@400;700&family=Quicksand:wght@700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<!-- Netlify Identity Widget (required for Decap CMS authentication) -->
<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

<style>
:root {
  --primary: #1a3c39;
  --primary-light: #2d5a55;
  --primary-dark: #0f2523;
  --accent: #d4a843;
  --accent-light: #e8c36b;
  --accent-glow: rgba(212, 168, 67, 0.25);
  --bg: #f7f8f5;
  --text: #2d3436;
  --text-light: #636e72;
  --white: #ffffff;
  --light-gray: #eef0ed;
  --shadow-sm: 0 4px 15px rgba(0,0,0,.06);
  --shadow-md: 0 10px 30px rgba(0,0,0,.08);
  --shadow-lg: 0 20px 60px rgba(0,0,0,.12);
  --shadow-accent: 0 8px 30px rgba(212,168,67,.2);
  --radius-sm: 8px;
  --radius-md: 16px;
  --radius-lg: 24px;
  --radius-xl: 32px;
  --transition-fast: all 0.2s cubic-bezier(.4,0,.2,1);
  --transition: all 0.35s cubic-bezier(.4,0,.2,1);
  --transition-slow: all 0.5s cubic-bezier(.4,0,.2,1);
  --logo-height: 150px;
}

*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  scroll-padding-top: 100px;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  background: linear-gradient(rgba(0,0,0,.6), rgba(0,0,0,.6)),
              url('img/gallery/background.jpg') center/cover no-repeat fixed;
  background-color: var(--bg);
  color: var(--text);
  line-height: 1.7;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ===== SCROLLBAR ===== */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--primary-dark); }
::-webkit-scrollbar-thumb {
  background: var(--accent);
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover { background: var(--accent-light); }

/* ===== NAVIGATION ===== */
nav {
  position: fixed;
  top: 0;
  width: 100%;
  background: rgba(255,255,255,.92);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 60px;
  z-index: 1000;
  transition: var(--transition);
  border-bottom: 1px solid rgba(0,0,0,.05);
}

nav.scrolled {
  padding: 8px 60px;
  background: rgba(255,255,255,.97);
  box-shadow: 0 4px 30px rgba(0,0,0,.08);
}

.nav-brand {
  display: flex;
  align-items: center;
  gap: 14px;
  text-decoration: none;
}

nav h1 {
  font-family: 'Poppins', sans-serif;
  font-size: 1.5rem;
  color: var(--primary);
  font-weight: 700;
  letter-spacing: -0.5px;
}

nav img.logo {
  height: var(--logo-height);
}

/* Header text replacing the old image */
.header-text {
  font-family: 'Quicksand', sans-serif;
  font-weight: 700;
  font-size: 1.7rem;
  color: #059099;
  white-space: nowrap;
  letter-spacing: 0.5px;
  line-height: 1.2;
}

/* Hide header text on small/mobile screens to avoid pushing the menu */
@media (max-width: 480px) {
  .header-text { display: none !important; }
}

/* Tighten contact section spacing for very small screens (e.g. iPhone SE 375px) */
@media (max-width: 380px) {
  .contact-grid {
    grid-template-columns: 1fr;
    gap: 12px;
  }

  .contact-info {
    padding: 14px !important;
  }

  .contact-item {
    gap: 10px;
    margin-bottom: 16px;
    padding-bottom: 12px;
  }

  .map-wrapper {
    min-height: 160px !important;
  }

  .map-wrapper iframe {
    min-height: 160px !important;
  }
}
  object-fit: contain;
  transition: var(--transition);
}

nav.scrolled img.logo {
  height: 45px;
  width: 45px;
}

.nav-links {
  display: flex;
  gap: 6px;
  align-items: center;
}

.nav-links a {
  text-decoration: none;
  color: var(--text-light);
  font-weight: 500;
  font-size: 0.92rem;
  padding: 8px 18px;
  border-radius: 50px;
  position: relative;
  transition: var(--transition);
  letter-spacing: 0.2px;
}

.nav-lang-dropdown { position: relative; display: inline-block; }
.nav-lang-toggle {
  background: transparent;
  border: 1.5px solid var(--light-gray);
  padding: 8px 12px;
  border-radius: 50px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  color: var(--text-light);
}

.nav-lang-menu {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  background: white;
  border: 1px solid rgba(0,0,0,0.06);
  border-radius: 10px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.08);
  display: none;
  min-width: 180px;
  padding: 8px;
}

.nav-lang-menu.open { display: block; }

.nav-lang-menu .lang-option {
  display: block;
  width: 100%;
  text-align: left;
  padding: 10px 12px;
  background: transparent;
  border: none;
  font-weight: 600;
  font-size: 0.95rem;
  color: var(--text);
  cursor: pointer;
}

.nav-lang-menu .lang-option + .lang-option { margin-top: 6px; }

.nav-links a:hover {
  color: var(--primary);
  background: rgba(26,60,57,.06);
}

.nav-links a.active {
  color: var(--primary);
  background: rgba(26,60,57,.08);
}

.nav-actions {
  display: flex;
  gap: 10px;
  align-items: center;
}

#langToggle {
  padding: 8px 16px;
  background: transparent;
  color: var(--text-light);
  border: 1.5px solid var(--light-gray);
  border-radius: 50px;
  cursor: pointer;
  font-weight: 600;
  transition: var(--transition);
  font-size: 0.95rem;
  display: flex;
  align-items: center;
  gap: 6px;
}

#langToggle:hover {
  border-color: var(--accent);
  color: var(--primary);
  background: rgba(212,168,67,.06);
}

/* Mobile menu toggle */
.menu-toggle {
  display: none;
  flex-direction: column;
  gap: 5px;
  cursor: pointer;
  padding: 8px;
  border: none;
  background: none;
  z-index: 1001;
}

.menu-toggle span {
  width: 24px;
  height: 2px;
  background: var(--primary);
  border-radius: 2px;
  transition: var(--transition);
  transform-origin: center;
}

.menu-toggle.active span:first-child {
  transform: rotate(45deg) translate(5px, 5px);
}

.menu-toggle.active span:nth-child(2) {
  opacity: 0;
}

.menu-toggle.active span:last-child {
  transform: rotate(-45deg) translate(5px, -5px);
}

/* ===== HERO HEADER ===== */
header {
  min-height: 100vh;
  background: linear-gradient(160deg, rgba(26,60,57,.8) 0%, rgba(15,37,35,.75) 50%, rgba(26,60,57,.85) 100%),
              url('img/gallery/background.jpg') center/cover;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: white;
  padding: 120px 40px 60px;
  position: relative;
  overflow: hidden;
}

/* Decorative circles */
header::before {
  content: '';
  position: absolute;
  width: 600px;
  height: 600px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(212,168,67,.12) 0%, transparent 70%);
  top: -200px;
  right: -100px;
  animation: floatSlow 10s ease-in-out infinite;
}

header::after {
  content: '';
  position: absolute;
  width: 400px;
  height: 400px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(212,168,67,.08) 0%, transparent 70%);
  bottom: -100px;
  left: -50px;
  animation: floatSlow 8s ease-in-out infinite reverse;
}

@keyframes floatSlow {
  0%, 100% { transform: translate(0, 0) scale(1); }
  50% { transform: translate(20px, -30px) scale(1.05); }
}

.hero-content {
  position: relative;
  z-index: 2;
  max-width: 800px;
}

.hero-badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 20px;
  background: rgba(212,168,67,.15);
  border: 1px solid rgba(212,168,67,.3);
  border-radius: 50px;
  font-size: 0.85rem;
  font-weight: 500;
  color: var(--accent-light);
  margin-bottom: 28px;
  backdrop-filter: blur(10px);
  animation: fadeInDown 0.8s ease-out;
}

/* Small info chips next to hero badge for age range and opening hours */
.hero-info {
  display: flex;
  gap: 12px;
  justify-content: center;
  margin-bottom: 28px;
  flex-wrap: wrap;
  animation: fadeInDown 0.8s ease-out;
}

.hero-chip {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 20px;
  background: rgba(212,168,67,.15);
  border: 1px solid rgba(212,168,67,.3);
  border-radius: 50px;
  font-size: 0.85rem;
  font-weight: 500;
  color: var(--accent-light);
  backdrop-filter: blur(10px);
}

@keyframes fadeInDown {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}

header h1 {
  font-family: 'Poppins', sans-serif;
  font-size: clamp(2.2rem, 5vw, 3.8rem);
  margin-bottom: 24px;
  font-weight: 700;
  letter-spacing: -1px;
  line-height: 1.15;
  animation: fadeInUp 1s ease-out 0.2s both;
}

header p {
  max-width: 600px;
  margin: 0 auto 36px;
  font-size: 1.1rem;
  opacity: .85;
  line-height: 1.8;
  font-weight: 300;
  animation: fadeInUp 1s ease-out 0.4s both;
}

.hero-cta {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 16px 36px;
  background: var(--accent);
  color: white;
  text-decoration: none;
  font-weight: 600;
  font-size: 0.95rem;
  border-radius: 50px;
  transition: var(--transition);
  box-shadow: 0 6px 25px rgba(212,168,67,.35);
  animation: fadeInUp 1s ease-out 0.6s both;
}

.hero-cta:hover {
  background: var(--accent-light);
  transform: translateY(-3px);
  box-shadow: 0 10px 35px rgba(212,168,67,.45);
}

.hero-cta i {
  transition: var(--transition-fast);
}

.hero-cta:hover i {
  transform: translateX(4px);
}

/* Scroll indicator */
.scroll-indicator {
  position: absolute;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2;
  animation: fadeInUp 1s ease-out 1s both;
}

.scroll-indicator a {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  color: rgba(255,255,255,.5);
  text-decoration: none;
  font-size: 0.75rem;
  letter-spacing: 2px;
  text-transform: uppercase;
  font-weight: 500;
  transition: var(--transition);
}

.scroll-indicator a:hover {
  color: rgba(255,255,255,.8);
}

.scroll-indicator .mouse {
  width: 24px;
  height: 38px;
  border: 2px solid rgba(255,255,255,.4);
  border-radius: 12px;
  position: relative;
}

.scroll-indicator .wheel {
  width: 3px;
  height: 8px;
  background: rgba(255,255,255,.6);
  border-radius: 2px;
  position: absolute;
  top: 6px;
  left: 50%;
  transform: translateX(-50%);
  animation: scrollWheel 2s ease-in-out infinite;
}

@keyframes scrollWheel {
  0% { transform: translateX(-50%) translateY(0); opacity: 1; }
  100% { transform: translateX(-50%) translateY(14px); opacity: 0; }
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ===== WAVE DIVIDER ===== */
.wave-divider {
  position: relative;
  margin-top: -2px;
  z-index: 5;
  line-height: 0;
}

.wave-divider svg {
  display: block;
  width: 100%;
  height: auto;
}

/* ===== SECTIONS ===== */
section {
  max-width: 1200px;
  margin: 0 auto 40px;
  padding: 100px 60px;
  background: rgba(255,255,255,.97);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  position: relative;
  overflow: hidden;
}

/* Scroll reveal */
.reveal {
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.8s cubic-bezier(.4,0,.2,1), transform 0.8s cubic-bezier(.4,0,.2,1);
}

.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Section decorative accent */
section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg, var(--accent), var(--accent-light), var(--accent));
  opacity: 0;
  transition: var(--transition-slow);
}

section:hover::before {
  opacity: 1;
}

.section-header {
  text-align: center;
  margin-bottom: 60px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.section-label {
  display: inline-block;
  font-family: 'Caveat', cursive;
  font-size: 1.9rem;
  color: var(--accent);
  margin-top: 12px;
  margin-bottom: 0;
  font-weight: 700;
  order: 2;
}

.section-title {
  order: 1;
}
  font-family: 'Poppins', sans-serif;
  font-size: clamp(1.8rem, 3vw, 2.6rem);
  color: var(--primary);
  position: relative;
  display: inline-block;
  padding-bottom: 16px;
  font-weight: 700;
  letter-spacing: -0.5px;
}

.section-title::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 60px;
  height: 3px;
  background: var(--accent);
  border-radius: 2px;
  transition: var(--transition);
}

.section-header:hover .section-title::after {
  width: 100px;
}

/* ===== ABOUT ===== */
.about-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 60px;
  align-items: center;
}

.about-text {
  max-width: 560px;
}

.about-text p {
  font-size: 1.05rem;
  color: var(--text-light);
  line-height: 1.95;
  margin-bottom: 24px;
}

.about-features {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-top: 32px;
}

.about-feature {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 18px;
  background: var(--bg);
  border-radius: var(--radius-sm);
  transition: var(--transition);
}

.about-feature:hover {
  background: rgba(212,168,67,.08);
  transform: translateX(4px);
}

.about-feature i {
  color: var(--accent);
  font-size: 1.1rem;
  width: 20px;
  text-align: center;
}

.about-feature span {
  font-size: 0.9rem;
  font-weight: 500;
  color: var(--primary);
}

.about-visual {
  position: relative;
}

.about-image-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

.about-image-grid .img-wrapper {
  border-radius: var(--radius-md);
  overflow: hidden;
  box-shadow: var(--shadow-md);
  transition: var(--transition);
}

.about-image-grid .img-wrapper:first-child {
  grid-row: span 2;
}

.about-image-grid .img-wrapper:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
}

.about-image-grid img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: var(--transition-slow);
}

.about-image-grid .img-wrapper:hover img {
  transform: scale(1.05);
}

/* Floating badge on about visual */
.about-badge {
  position: absolute;
  bottom: -10px;
  right: -10px;
  background: var(--accent);
  color: white;
  padding: 18px 22px;
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-accent);
  text-align: center;
  z-index: 3;
}

.about-badge .number {
  display: block;
  font-family: 'Poppins', sans-serif;
  font-size: 2rem;
  font-weight: 800;
  line-height: 1;
}

.about-badge .label {
  font-size: 0.75rem;
  font-weight: 500;
  opacity: 0.9;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

/* ===== VALUES ===== */
.values-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 30px;
  margin-top: 20px;
}

.value-card {
  background: var(--white);
  padding: 44px 36px;
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
  transition: var(--transition);
  position: relative;
  overflow: hidden;
  border: 1px solid rgba(0,0,0,.04);
}

.value-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg, var(--accent), var(--accent-light));
  transform: scaleX(0);
  transform-origin: left;
  transition: var(--transition);
}

.value-card:hover::before {
  transform: scaleX(1);
}

.value-card:hover {
  transform: translateY(-8px);
  box-shadow: var(--shadow-lg);
}

.value-icon {
  width: 64px;
  height: 64px;
  border-radius: var(--radius-md);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  margin-bottom: 24px;
  transition: var(--transition);
}

.value-card:nth-child(1) .value-icon {
  background: rgba(212,168,67,.1);
  color: var(--accent);
}

.value-card:nth-child(2) .value-icon {
  background: rgba(26,60,57,.08);
  color: var(--primary);
}

.value-card:nth-child(3) .value-icon {
  background: rgba(212,168,67,.1);
  color: var(--accent);
}

.value-card:hover .value-icon {
  transform: scale(1.1);
}

.value-card h3 {
  margin-bottom: 14px;
  color: var(--primary);
  font-size: 1.2rem;
  font-family: 'Poppins', sans-serif;
  font-weight: 600;
}

.value-card p {
  color: var(--text-light);
  line-height: 1.8;
  font-size: 0.95rem;
}

/* ===== GALLERY ===== */
#galeria {
  max-width: 1300px;
}

.gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.gallery-item {
  position: relative;
  overflow: hidden;
  border-radius: var(--radius-md);
  aspect-ratio: 1;
  cursor: pointer;
  box-shadow: var(--shadow-sm);
  transition: var(--transition);
}

.gallery-item:nth-child(5n+1) {
  grid-row: span 2;
  grid-column: span 2;
}

.gallery-item:hover {
  box-shadow: var(--shadow-lg);
  transform: translateY(-4px);
}

.gallery-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.6s cubic-bezier(.4,0,.2,1);
}

.gallery-item:hover img {
  transform: scale(1.08);
}

.gallery-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, transparent 40%, rgba(26,60,57,.85) 100%);
  display: flex;
  align-items: flex-end;
  padding: 24px;
  opacity: 0;
  transition: var(--transition);
}

.gallery-item:hover .gallery-overlay {
  opacity: 1;
}

.gallery-overlay p {
  color: white;
  font-family: 'Poppins', sans-serif;
  font-size: 0.95rem;
  font-weight: 500;
}

/* Lightbox */
.lightbox {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.92);
  backdrop-filter: blur(20px);
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  transition: var(--transition);
}

.lightbox.active {
  opacity: 1;
  visibility: visible;
}

.lightbox img {
  max-width: 90vw;
  max-height: 85vh;
  object-fit: contain;
  border-radius: var(--radius-md);
  box-shadow: 0 30px 80px rgba(0,0,0,.5);
  transform: scale(0.9);
  transition: var(--transition-slow);
}

.lightbox.active img {
  transform: scale(1);
}

.lightbox-close {
  position: absolute;
  top: 24px;
  right: 24px;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: rgba(255,255,255,.1);
  border: none;
  color: white;
  font-size: 1.3rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
}

.lightbox-close:hover {
  background: rgba(255,255,255,.2);
  transform: rotate(90deg);
}

.lightbox-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: rgba(255,255,255,.1);
  border: none;
  color: white;
  font-size: 1.2rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
}

.lightbox-nav:hover {
  background: rgba(255,255,255,.2);
}

.lightbox-prev { left: 24px; }
.lightbox-next { right: 24px; }

/* ===== TESTIMONIALS ===== */
.testimonials-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 28px;
  margin-top: 20px;
}

.testimonial-card {
  background: var(--white);
  padding: 36px 30px;
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
  border: 1px solid rgba(0,0,0,.04);
  transition: var(--transition);
  position: relative;
}

.testimonial-card:hover {
  transform: translateY(-6px);
  box-shadow: var(--shadow-lg);
}

.testimonial-stars {
  display: flex;
  gap: 3px;
  margin-bottom: 16px;
  color: #f5a623;
  font-size: 0.95rem;
}

.testimonial-text {
  font-size: 0.95rem;
  color: var(--text-light);
  line-height: 1.85;
  margin-bottom: 24px;
  font-style: italic;
}

.testimonial-text::before {
  content: '\201C';
  font-size: 2.5rem;
  font-family: 'Poppins', serif;
  color: var(--accent);
  opacity: 0.4;
  line-height: 0;
  position: relative;
  top: 12px;
  margin-right: 4px;
}

.testimonial-author {
  display: flex;
  align-items: center;
  gap: 12px;
}

.testimonial-avatar {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary), var(--primary-light));
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-family: 'Poppins', sans-serif;
  font-weight: 700;
  font-size: 1rem;
  flex-shrink: 0;
}

.testimonial-name {
  font-weight: 600;
  color: var(--primary);
  font-size: 0.95rem;
}

.testimonial-source {
  font-size: 0.78rem;
  color: var(--text-light);
  display: flex;
  align-items: center;
  gap: 4px;
  margin-top: 2px;
}

.testimonial-source i {
  color: #4285f4;
  font-size: 0.85rem;
}

.testimonials-cta {
  text-align: center;
  margin-top: 40px;
}

.testimonials-cta a {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 28px;
  background: transparent;
  color: var(--primary);
  text-decoration: none;
  font-weight: 600;
  font-size: 0.9rem;
  border-radius: 50px;
  border: 2px solid var(--primary);
  transition: var(--transition);
}

.testimonials-cta a:hover {
  background: var(--primary);
  color: white;
  transform: translateY(-2px);
}

/* ===== CTA ===== */
.cta {
  background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 50%, var(--primary) 100%);
  background-size: 200% 200%;
  animation: gradientShift 8s ease infinite;
  color: white;
  text-align: center;
  padding: 100px 40px;
  position: relative;
  overflow: hidden;
  border-radius: var(--radius-lg);
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.cta::before {
  content: '';
  position: absolute;
  width: 500px;
  height: 500px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(212,168,67,.12) 0%, transparent 70%);
  top: -200px;
  right: -200px;
  animation: floatSlow 10s ease-in-out infinite;
}

.cta::after {
  content: '';
  position: absolute;
  width: 300px;
  height: 300px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(212,168,67,.08) 0%, transparent 70%);
  bottom: -100px;
  left: -100px;
  animation: floatSlow 7s ease-in-out infinite reverse;
}

.cta h2 {
  font-family: 'Poppins', sans-serif;
  font-size: clamp(1.8rem, 3.5vw, 2.8rem);
  margin-bottom: 16px;
  position: relative;
  z-index: 2;
  font-weight: 700;
  letter-spacing: -0.5px;
}

.cta p {
  position: relative;
  z-index: 2;
  opacity: 0.85;
  max-width: 550px;
  margin: 0 auto 36px;
  font-size: 1.05rem;
  line-height: 1.8;
  font-weight: 300;
}

.cta a {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 16px 40px;
  background: var(--accent);
  color: white;
  text-decoration: none;
  font-weight: 600;
  font-size: 0.95rem;
  border-radius: 50px;
  transition: var(--transition);
  position: relative;
  z-index: 2;
  box-shadow: 0 6px 25px rgba(212,168,67,.35);
}

.cta a:hover {
  background: var(--accent-light);
  transform: translateY(-3px);
  box-shadow: 0 10px 35px rgba(212,168,67,.5);
}

/* ===== CONTACT ===== */
.contact-grid {
  display: grid;
  grid-template-columns: 1fr 1.2fr;
  gap: 40px;
  margin-top: 20px;
}

.contact-info {
  padding: 44px;
  background: var(--bg);
  border-radius: var(--radius-md);
  border: 1px solid rgba(0,0,0,.04);
}

.contact-item {
  display: flex;
  align-items: flex-start;
  gap: 16px;
  margin-bottom: 28px;
  padding-bottom: 28px;
  border-bottom: 1px solid rgba(0,0,0,.06);
}

.contact-item:last-of-type {
  border-bottom: none;
  padding-bottom: 0;
  margin-bottom: 0;
}

.contact-icon {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(212,168,67,.1);
  color: var(--accent);
  font-size: 1.1rem;
  flex-shrink: 0;
  transition: var(--transition);
}

.contact-item:hover .contact-icon {
  background: var(--accent);
  color: white;
  transform: scale(1.05);
}

.contact-label {
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--text-light);
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 4px;
}

.contact-value {
  font-size: 1rem;
  color: var(--primary);
  font-weight: 500;
}

.contact-value a {
  color: var(--primary);
  text-decoration: none;
  transition: var(--transition-fast);
}

.contact-value a:hover {
  color: var(--accent);
}

.social-links {
  display: flex;
  gap: 12px;
  margin-top: 32px;
}

.social-links a {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  background: var(--primary);
  color: white;
  border-radius: 12px;
  text-decoration: none;
  transition: var(--transition);
  font-size: 1.2rem;
}

.social-links a:hover {
  background: var(--accent);
  transform: translateY(-4px);
  box-shadow: var(--shadow-accent);
}

.map-wrapper {
  border-radius: var(--radius-md);
  overflow: hidden;
  box-shadow: var(--shadow-md);
  height: 100%;
  min-height: 380px;
  max-width: 100%;
  box-sizing: border-box;
}

.map-wrapper iframe {
  width: 100%;
  height: 100%;
  border: none;
  min-height: 380px;
  display: block;
}

@media (max-width: 768px) {
  .map-wrapper { min-height: 220px; }
  .map-wrapper iframe { min-height: 220px; }
}

/* ===== FOOTER ===== */
footer {
  background: var(--primary-dark);
  color: rgba(255,255,255,.6);
  text-align: center;
  padding: 48px 40px;
  position: relative;
}

footer::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, transparent, var(--accent), transparent);
}

footer p {
  font-size: 0.9rem;
}

footer .footer-brand {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  margin-bottom: 16px;
}

footer .footer-brand img {
  height: 32px;
  width: 32px;
  object-fit: contain;
  opacity: 0.7;
}

footer .footer-brand span {
  font-family: 'Poppins', sans-serif;
  font-weight: 600;
  color: rgba(255,255,255,.8);
  font-size: 1rem;
}

footer .footer-social {
  display: flex;
  justify-content: center;
  gap: 12px;
  margin: 16px 0;
}

footer .footer-social a {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: rgba(255,255,255,.1);
  color: rgba(255,255,255,.7);
  border-radius: 10px;
  text-decoration: none;
  transition: var(--transition);
  font-size: 1.1rem;
}

footer .footer-social a:hover {
  background: var(--accent);
  color: white;
  transform: translateY(-3px);
}

/* ===== RESPONSIVE ===== */
@media (max-width: 1024px) {
  .about-content {
    grid-template-columns: 1fr;
    gap: 40px;
  }

  .about-visual {
    max-width: 500px;
    margin: 0 auto;
  }

  .values-grid {
    grid-template-columns: 1fr 1fr;
  }

  .testimonials-grid {
    grid-template-columns: 1fr 1fr;
  }

  .gallery-item:nth-child(5n+1) {
    grid-row: span 1;
    grid-column: span 1;
  }
}

@media (max-width: 768px) {
  nav {
    padding: 12px 24px;
  }

  nav img.logo {
    height: 50px;
  }

  .menu-toggle {
    display: flex;
  }

  .nav-links {
    position: fixed;
    top: 0;
    right: -100%;
    width: 85vw;
    max-width: 320px;
    height: 100vh;
    background: white;
    flex-direction: column;
    padding: 100px 30px 40px;
    gap: 8px;
    box-shadow: -10px 0 40px rgba(0,0,0,.1);
    transition: var(--transition);
    z-index: 3000;
  }

  .nav-links.open {
    right: 0;
  }

  .nav-links a {
    width: 100%;
    text-align: left;
    padding: 14px 20px;
    font-size: 1rem;
    border-radius: var(--radius-sm);
    color: var(--text);
  }

  .nav-actions {
    /* On mobile show the language control below the navbar for quick access */
    position: absolute;
    top: 100%;
    right: 16px;
    width: auto;
    background: white;
    padding: 8px 12px;
    padding-top: 12px;
    border-radius: 12px;
    border: 1px solid rgba(0,0,0,0.06);
    box-shadow: 0 8px 30px rgba(0,0,0,0.08);
    z-index: 3001;
    transition: var(--transition);
  }

  /* keep sibling rule but neutralized since .nav-actions is positioned under nav */
  .nav-links.open ~ .nav-actions {
    right: 16px;
  }

  header h1 {
    font-size: clamp(1.8rem, 6vw, 2.5rem);
  }

  /* Mobile stacking fixes: gallery should NOT overlap nav */
  .gallery-grid {
    position: relative;
    z-index: 1;
  }

  /* Navigation stacking for mobile: ensure panel is on top and actions sit behind it */
  .nav-overlay {
    z-index: 2500;
  }

  .nav-links {
    z-index: 3000;
  }

  .nav-links.open {
    right: 0;
    z-index: 3000;
  }

  .nav-actions {
    z-index: 2000;
  }

  /* show the language block inside the sliding menu on mobile */
  .nav-lang { display: block; margin-top: 12px; padding-top: 12px; border-top: 1px solid rgba(0,0,0,0.04); }
  .nav-lang .lang-option { border-radius: var(--radius-sm); background: rgba(0,0,0,0.02); }

  section {
    padding: 60px 28px;
    margin: 0 12px 24px;
    border-radius: var(--radius-md);
  }

  .about-features {
    grid-template-columns: 1fr;
  }

  .values-grid {
    grid-template-columns: 1fr;
    gap: 20px;
  }

  .gallery-grid {
    grid-template-columns: 1fr 1fr;
    gap: 12px;
  }

  .gallery-item:nth-child(5n+1) {
    grid-row: span 1;
    grid-column: span 1;
  }

  .contact-grid {
    grid-template-columns: 1fr;
    gap: 24px;
  }

  .testimonials-grid {
    grid-template-columns: 1fr;
    gap: 20px;
  }

  .cta {
    padding: 60px 28px;
  }

  .lightbox-prev { left: 12px; }
  .lightbox-next { right: 12px; }
}

@media (max-width: 480px) {
  .gallery-grid {
    grid-template-columns: 1fr;
  }

  nav h1 {
    font-size: 1.2rem;
  }

  .hero-badge {
    font-size: 0.75rem;
    padding: 6px 14px;
  }
}

@media (max-width: 768px) {
  /* Ensure scroll-reveal content is visible on small screens where intersection
     thresholds can be finicky and header overlays may affect visibility */
  .reveal { opacity: 1 !important; transform: none !important; }
}

/* Overlay for mobile menu */
.nav-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.4);
  z-index: 998;
  opacity: 0;
  visibility: hidden;
  transition: var(--transition);
}

.nav-overlay.active {
  opacity: 1;
  visibility: visible;
}
</style>
</head>

<body>

<!-- NAVIGATION -->
<nav>
  <a href="#" class="nav-brand">
    <img src="img/gallery/logo.png" alt="Tagarelas √† Solta - Jardim de Inf√¢ncia" class="logo">
    <span class="header-text">Tagarelas √† Solta</span>
  </a>

  <div class="nav-links" id="navLinks">
    <a href="#sobre" data-pt="Sobre" data-en="About">Sobre</a>
    <a href="#valores" data-pt="Valores" data-en="Values">Valores</a>
    <a href="#testemunhos" data-pt="Testemunhos" data-en="Testimonials">Testemunhos</a>
    <a href="#galeria" data-pt="Galeria" data-en="Gallery">Galeria</a>
    <a href="#contactos" data-pt="Contactos" data-en="Contacts">Contactos</a>
    
    <!-- Language dropdown (desktop & mobile inside the sliding menu) -->
    <div class="nav-lang-dropdown" id="navLangDropdown">
      <button id="langToggle" class="nav-lang-toggle" aria-haspopup="true" aria-expanded="false">
        <span id="langFlag">PT</span>
        <i class="fas fa-chevron-down" style="font-size:0.65rem;"></i>
      </button>
      <div class="nav-lang-menu" role="menu" aria-hidden="true">
        <button class="lang-option" data-lang="pt" role="menuitem">üáµüáπ Portugu√™s</button>
        <button class="lang-option" data-lang="en" role="menuitem">üá¨üáß English</button>
      </div>
    </div>
  </div>
  

  <button class="menu-toggle" id="menuToggle" aria-label="Menu">
    <span></span>
    <span></span>
    <span></span>
  </button>
</nav>

<div class="nav-overlay" id="navOverlay"></div>

<!-- HERO -->
<header>
  <div class="hero-content">
    <div class="hero-info">
      <span class="hero-chip" data-pt="Pr√©-Escolar: 3 aos 6 anos" data-en="Pre-school: Ages 3 to 6"><i class="fas fa-child"></i> Pr√©-Escolar: 3 aos 6 anos</span>
      <span class="hero-chip" data-pt="Hor√°rio: 07h - 19h30" data-en="Hours: 7:00 AM - 7:30 PM"><i class="fas fa-clock"></i> Hor√°rio: 07h - 19h30</span>
    </div>
    <h1 data-pt="Cada Crian√ßa no Centro de Tudo o Que Fazemos" data-en="Each Child at the Center of Everything We Do">Cada Crian√ßa no Centro de Tudo o Que Fazemos</h1>
    <p data-pt="No Tagarelas √† Solta, cada crian√ßa √© acolhida com amor, seguran√ßa e alegria. Aqui cuidamos dela como se fosse da fam√≠lia, acompanhando cada momento especial do seu crescimento. Com uma equipa dedicada e um ambiente pensado at√© ao detalhe, garantimos que a crian√ßa floresce feliz e segura todos os dias." data-en="At Tagarelas √† Solta, every child is welcomed with love, safety and joy. Here we care for them as if they were family, accompanying every special moment of their growth. With a dedicated team and an environment thoughtfully designed, we ensure every child thrives happy and secure every day.">
      No Tagarelas √† Solta, cada crian√ßa √© acolhida com amor, seguran√ßa e alegria.
      Aqui cuidamos dela como se fosse da fam√≠lia, acompanhando cada momento especial do seu crescimento.
      Com uma equipa dedicada e um ambiente pensado at√© ao detalhe,
      garantimos que a crian√ßa floresce feliz e segura todos os dias.
    </p>
    <a href="#contactos" class="hero-cta" data-pt="Marcar Visita" data-en="Schedule Visit">
      Marcar Visita <i class="fas fa-arrow-right"></i>
    </a>
  </div>

  <div class="scroll-indicator">
    <a href="#sobre">
      <div class="mouse">
        <div class="wheel"></div>
      </div>
    </a>
  </div>
</header>

<!-- ABOUT SECTION -->
<section id="sobre" class="reveal">
  <div class="section-header">
    <span class="section-label" data-pt="Quem Somos" data-en="Who We Are">Quem Somos</span>
    <h2 class="section-title" data-pt="Sobre o Jardim de Inf√¢ncia" data-en="About Us">Sobre o Jardim de Inf√¢ncia</h2>
  </div>

  <div class="about-content">
    <div class="about-text">
      <p data-pt="Sabemos que confiar-nos uma crian√ßa √© um passo importante. Por isso, cri√°mos um lar onde o acolhimento, a divers√£o e a aprendizagem andam lado a lado. Aqui cada crian√ßa diverte-se enquanto descobre o mundo, sempre com o apoio atento da nossa equipa que respeita o ritmo √∫nico de cada uma e celebra cada conquista." data-en="We know that entrusting a child to us is an important step. That's why we've created a home where warmth, fun and learning go hand in hand. Here every child has fun while discovering the world, always with the caring support of our team who respects each child's unique pace and celebrates every achievement.">
        Sabemos que confiar-nos uma crian√ßa √© um passo importante.
        Por isso, cri√°mos um lar onde o acolhimento, a divers√£o e a aprendizagem andam lado a lado.
        Aqui cada crian√ßa diverte-se enquanto descobre o mundo, sempre com o apoio atento da nossa equipa
        que respeita o ritmo √∫nico de cada uma e celebra cada conquista.
      </p>

      <div class="about-features">
        <div class="about-feature">
          <i class="fas fa-heart"></i>
          <span data-pt="Ambiente Acolhedor" data-en="Welcoming Environment">Ambiente Acolhedor</span>
        </div>
        <div class="about-feature">
          <i class="fas fa-shield-halved"></i>
          <span data-pt="Seguran√ßa Total" data-en="Full Safety">Seguran√ßa Total</span>
        </div>
        <div class="about-feature">
          <i class="fas fa-graduation-cap"></i>
          <span data-pt="Equipa Qualificada" data-en="Qualified Team">Equipa Qualificada</span>
        </div>
        <div class="about-feature">
          <i class="fas fa-child-reaching"></i>
          <span data-pt="Desenvolvimento Integral" data-en="Full Development">Desenvolvimento Integral</span>
        </div>
      </div>
    </div>

    <div class="about-visual">
      <div class="about-image-grid">
        <div class="img-wrapper">
          <img src="img/gallery/10.jpg" alt="Crian√ßas a brincar no jardim de inf√¢ncia Tagarelas √† Solta" loading="lazy">
        </div>
        <div class="img-wrapper">
          <img src="img/gallery/3.jpg" alt="Atividades educativas no Tagarelas √† Solta" loading="lazy">
        </div>
        <div class="img-wrapper">
          <img src="img/gallery/18.jpg" alt="Espa√ßo exterior do jardim de inf√¢ncia Tagarelas √† Solta" loading="lazy">
        </div>
      </div>
    </div>
  </div>
</section>

<!-- VALUES SECTION -->
<section id="valores" class="reveal">
  <div class="section-header">
    <span class="section-label" data-pt="O Que Nos Define" data-en="What Defines Us">O Que Nos Define</span>
    <h2 class="section-title" data-pt="Os Nossos Valores" data-en="Our Values">Os Nossos Valores</h2>
  </div>

  <div class="values-grid">
    <div class="value-card">
      <div class="value-icon">
        <i class="fas fa-book-open-reader"></i>
      </div>
      <h3 data-pt="Aprendizagem com Alegria" data-en="Learning with Joy">Aprendizagem com Alegria</h3>
      <p data-pt="Aqui cada crian√ßa aprende a brincar, desenvolvendo a sua criatividade, confian√ßa e autonomia. Cada dia √© uma nova aventura repleta de descobertas que a preparam para o futuro." data-en="Here every child learns through play, developing their creativity, confidence and independence. Every day is a new adventure full of discoveries that prepare them for the future.">
        Aqui cada crian√ßa aprende a brincar, desenvolvendo criatividade, confian√ßa e curiosidade.
        Cada dia √© uma nova aventura repleta de descobertas que a preparam para o futuro.
      </p>
    </div>
    <div class="value-card">
      <div class="value-icon">
        <i class="fas fa-shield-heart"></i>
      </div>
      <h3 data-pt="Paz de Esp√≠rito dos Pais" data-en="Parents' Peace of Mind">Paz de Esp√≠rito dos Pais</h3>
      <p data-pt="Podem ir trabalhar descansados. Temos um espa√ßo seguro, protegido e supervisionado, com profissionais que conhecem bem cada crian√ßa e cuidam dela como se fosse da fam√≠lia." data-en="Parents can go to work at ease. We have a safe, secure and supervised space, with professionals who know every child well and care for them as if they were family.">
        Podem ir trabalhar descansados. Temos um espa√ßo seguro, protegido
        e supervisionado, com profissionais que conhecem bem cada crian√ßa e cuidam dela como se fosse da fam√≠lia.
      </p>
    </div>
    <div class="value-card">
      <div class="value-icon">
        <i class="fas fa-hands-holding-child"></i>
      </div>
      <h3 data-pt="Cada Crian√ßa, √önica e Especial" data-en="Every Child, Unique and Special">Cada Crian√ßa, √önica e Especial</h3>
      <p data-pt="N√£o somos uma multid√£o. Conhecemos cada crian√ßa, as suas prefer√™ncias, os seus medos e os seus sonhos. Acompanhamo-la de perto, celebrando cada conquista e apoiando-a em cada etapa." data-en="We're not a crowd. We know every child, their preferences, their fears and their dreams. We follow them closely, celebrating every achievement and supporting them at every stage.">
        N√£o somos uma multid√£o. Conhecemos cada crian√ßa, as suas prefer√™ncias, os seus medos e os seus sonhos.
        Acompanhamo-la de perto, celebrando cada conquista e apoiando-a em cada etapa.
      </p>
    </div>
  </div>
</section>

<!-- TESTIMONIALS SECTION -->
<section id="testemunhos" class="reveal">
  <div class="section-header">
    <span class="section-label" data-pt="O Que Dizem de N√≥s" data-en="What They Say About Us">O Que Dizem de N√≥s</span>
    <h2 class="section-title" data-pt="Testemunhos" data-en="Testimonials">Testemunhos</h2>
  </div>

  <div class="testimonials-grid">
    <div class="testimonial-card">
      <div class="testimonial-stars">
        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
      </div>
      <p class="testimonial-text" data-pt="Espa√ßo muito agrad√°vel e bem organizado, com uma excelente zona exterior com relva e piscinas no ver√£o. Equipa muito humana e carinhosa. Sem d√∫vida uma √≥tima escolha para os nossos filhos." data-en="Very pleasant and well-organized space, with an excellent outdoor area with grass and pools in summer. Very humane and caring team. Without a doubt, a great choice for our children.">Espa√ßo muito agrad√°vel e bem organizado, com uma excelente zona exterior com relva e piscinas no ver√£o. Equipa muito humana e carinhosa. Sem d√∫vida uma √≥tima escolha para os nossos filhos.</p>
      <div class="testimonial-author">
        <div class="testimonial-avatar">S</div>
        <div>
          <div class="testimonial-name">Susana Rocha</div>
          <div class="testimonial-source"><i class="fab fa-google"></i> Google Review</div>
        </div>
      </div>
    </div>

    <div class="testimonial-card">
      <div class="testimonial-stars">
        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
      </div>
      <p class="testimonial-text" data-pt="Mais do que uma escola, √© uma casa. Equipa fant√°stica, de um profissionalismo e carinho sem igual. Escolheria sempre o Tagarelas √† Solta." data-en="More than a school, it's a home. Fantastic team with unmatched professionalism and affection. I would always choose Tagarelas √† Solta.">Mais do que uma escola, √© uma casa. Equipa fant√°stica, de um profissionalismo e carinho sem igual. Escolheria sempre o Tagarelas √† Solta.</p>
      <div class="testimonial-author">
        <div class="testimonial-avatar">N</div>
        <div>
          <div class="testimonial-name">Natalia Navarro</div>
          <div class="testimonial-source"><i class="fab fa-google"></i> Google Review</div>
        </div>
      </div>
    </div>

    <div class="testimonial-card">
      <div class="testimonial-stars">
        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
      </div>
      <p class="testimonial-text" data-pt="meu filho anda nessa escola e gostamos muito, de um todo, √© uma escola exemplar, desde a diretora a educadora, gostamos imenso." data-en="My son attends this school and we like it very much, overall, it is an exemplary school, from the director to the educator, we like it a lot.">meu filho anda nessa escola e gostamos muito, de um todo, √© uma escola exemplar, desde a diretora a educadora, gostamos imenso.</p>
      <div class="testimonial-author">
        <div class="testimonial-avatar">T</div>
        <div>
          <div class="testimonial-name">Thallita Brito</div>
          <div class="testimonial-source"><i class="fab fa-google"></i> Google Review</div>
        </div>
      </div>
    </div>
  </div>

  <div class="testimonials-cta">
    <a href="https://share.google/seL7JEA5fDcYuhenW" target="_blank" data-pt="Ver mais no Google" data-en="See more on Google">Ver mais no Google <i class="fab fa-google"></i></a>
  </div>
</section>

<!-- GALLERY SECTION -->
<section id="galeria" class="reveal">
  <div class="section-header">
    <span class="section-label" data-pt="Os Nossos Momentos" data-en="Our Moments">Os Nossos Momentos</span>
    <h2 class="section-title" data-pt="Galeria de Fotos" data-en="Photo Gallery">Galeria de Fotos</h2>
  </div>

  <div class="gallery-grid" id="galleryContainer">
    <!-- Gallery items loaded dynamically -->
  </div>
</section>

<!-- CONTACT SECTION -->
<section id="contactos" class="reveal">
  <div class="section-header">
    <span class="section-label" data-pt="Fale Connosco" data-en="Get In Touch">Fale Connosco</span>
    <h2 class="section-title" data-pt="Contactos" data-en="Contact">Contactos</h2>
  </div>

  <div class="contact-grid">
    <div class="contact-info">
      <div class="contact-item">
        <div class="contact-icon">
          <i class="fas fa-location-dot"></i>
        </div>
        <div>
          <div class="contact-label" data-pt="Morada" data-en="Address">Morada</div>
          <div class="contact-value">Alameda de Aristides Sousa Mendes n.¬∫ 8 Loja R/C Drt¬∫, 2625-045 P√≥voa de Santa Iria</div>
        </div>
      </div>

      <div class="contact-item">
        <div class="contact-icon">
          <i class="fas fa-phone"></i>
        </div>
        <div>
          <div class="contact-label" data-pt="Telefone" data-en="Phone">Telefone</div>
          <div class="contact-value"><a href="tel:910588380">910 588 380</a></div>
        </div>
      </div>

      <div class="contact-item">
        <div class="contact-icon">
          <i class="fas fa-clock"></i>
        </div>
        <div>
          <div class="contact-label" data-pt="Hor√°rio" data-en="Hours">Hor√°rio</div>
          <div class="contact-value" data-pt="07h - 19h30" data-en="07:00 - 19:30">07h - 19h30</div>
        </div>
      </div>

      <div class="contact-item">
        <div class="contact-icon">
          <i class="fas fa-envelope"></i>
        </div>
        <div>
          <div class="contact-label">Email</div>
          <div class="contact-value"><a href="mailto:tagarelasasolta@sapo.pt">tagarelasasolta@sapo.pt</a></div>
        </div>
      </div>

      <div class="social-links">
        <a href="https://www.facebook.com/p/Tagarelas-%C3%A0-Solta-100089645323231/" target="_blank" title="Facebook" aria-label="Facebook">
          <i class="fab fa-facebook-f"></i>
        </a>
        <a href="https://www.instagram.com/tagarelas_a_solta/" target="_blank" title="Instagram" aria-label="Instagram">
          <i class="fab fa-instagram"></i>
        </a>
      </div>
    </div>

    <div class="map-wrapper">
     <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12428.262499223873!2d-9.068167599999999!3d38.8538548!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd192f326846c1fb%3A0xb69f805c183c2976!2sTAGARELASASOLTA!5e0!3m2!1sen!2spt!4v1770650129599!5m2!1sen!2spt" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
  </div>
</section>

<!-- CTA SECTION -->
<section class="cta reveal">
  <h2 data-pt="Pronto para nos conhecer?" data-en="Ready to meet us?">Pronto para nos conhecer?</h2>
  <p data-pt="Marque uma visita e conhe√ßa pessoalmente o nosso espa√ßo e a nossa equipa dedicada." data-en="Schedule a visit and personally meet our dedicated space and team.">Marque uma visita e conhe√ßa pessoalmente o nosso espa√ßo e a nossa equipa dedicada.</p>
  <a href="#contactos" data-pt="Contacte-nos" data-en="Contact Us">Contacte-nos <i class="fas fa-arrow-right"></i></a>
</section>

<!-- FOOTER -->
<footer>
  <div class="footer-brand">
    <img src="img/gallery/logo.png" alt="Logotipo Tagarelas √† Solta">
    <span>Tagarelas √† Solta</span>
  </div>
  <div class="footer-social">
    <a href="https://www.facebook.com/p/Tagarelas-%C3%A0-Solta-100089645323231/" target="_blank" title="Facebook" aria-label="Facebook">
      <i class="fab fa-facebook-f"></i>
    </a>
    <a href="https://www.instagram.com/tagarelas_a_solta/" target="_blank" title="Instagram" aria-label="Instagram">
      <i class="fab fa-instagram"></i>
    </a>
  </div>
  <p data-pt="¬© 2026 Tagarelas √† Solta ¬∑ Jardim de Inf√¢ncia Privado (Creche em breve)" data-en="¬© 2026 Tagarelas √† Solta ¬∑ Private Kindergarten">¬© 2026 Tagarelas √† Solta ¬∑ Jardim de Inf√¢ncia Privado</p>
</footer>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox">
  <button class="lightbox-close" id="lightboxClose" aria-label="Close"><i class="fas fa-xmark"></i></button>
  <button class="lightbox-nav lightbox-prev" id="lightboxPrev" aria-label="Previous"><i class="fas fa-chevron-left"></i></button>
  <img src="" alt="Gallery image" id="lightboxImg">
  <button class="lightbox-nav lightbox-next" id="lightboxNext" aria-label="Next"><i class="fas fa-chevron-right"></i></button>
</div>

<script>
// ===== LANGUAGE MANAGEMENT =====
const TRANSLATIONS = { pt: {}, en: {} };
let currentLang = localStorage.getItem('lang') || 'pt';

document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('[data-pt][data-en]').forEach(el => {
    const key = el.dataset.pt;
    if (key) {
      TRANSLATIONS.pt[key] = el.dataset.pt;
      TRANSLATIONS.en[key] = el.dataset.en;
    }
  });

  initializeLanguage();
  setupListeners();
  loadGallery();
  initScrollReveal();
  initNavScroll();
});

function initializeLanguage() {
  applyLanguage(currentLang);
  updateLangButton();
}

function setupListeners() {
  // language dropdown toggle (opens submenu, does not toggle language directly)
  const langToggleBtn = document.getElementById('langToggle');
  const langMenu = document.querySelector('.nav-lang-menu');
  if (langToggleBtn && langMenu) {
    langToggleBtn.addEventListener('click', function(e) {
      e.stopPropagation();
      const open = langMenu.classList.toggle('open');
      langToggleBtn.setAttribute('aria-expanded', open ? 'true' : 'false');
      langMenu.setAttribute('aria-hidden', open ? 'false' : 'true');
    });
    // close when clicking outside
    document.addEventListener('click', function() {
      if (langMenu.classList.contains('open')) {
        langMenu.classList.remove('open');
        langToggleBtn.setAttribute('aria-expanded', 'false');
        langMenu.setAttribute('aria-hidden', 'true');
      }
    });
    // prevent clicks inside menu from closing immediately
    langMenu.addEventListener('click', function(e){ e.stopPropagation(); });
  }

  // Mobile menu
  const menuToggle = document.getElementById('menuToggle');
  const navLinks = document.getElementById('navLinks');
  const navOverlay = document.getElementById('navOverlay');

  menuToggle.addEventListener('click', function() {
    this.classList.toggle('active');
    navLinks.classList.toggle('open');
    navOverlay.classList.toggle('active');
    document.body.style.overflow = navLinks.classList.contains('open') ? 'hidden' : '';
  });

  navOverlay.addEventListener('click', function() {
    menuToggle.classList.remove('active');
    navLinks.classList.remove('open');
    navOverlay.classList.remove('active');
    document.body.style.overflow = '';
  });

  // Mobile explicit language buttons inside menu
  document.querySelectorAll('.lang-option').forEach(btn => {
    btn.addEventListener('click', function() {
      // close dropdown menu if open
      const langMenuLocal = document.querySelector('.nav-lang-menu');
      const langToggleLocal = document.getElementById('langToggle');
      if (langMenuLocal) {
        langMenuLocal.classList.remove('open');
        if (langToggleLocal) {
          langToggleLocal.setAttribute('aria-expanded', 'false');
          langMenuLocal.setAttribute('aria-hidden', 'true');
        }
      }
      const chosen = this.dataset.lang;
      if (chosen) {
        currentLang = chosen;
        localStorage.setItem('lang', currentLang);
        applyLanguage(currentLang);
        updateLangButton();
      }
      // close the mobile menu after selection
      menuToggle.classList.remove('active');
      navLinks.classList.remove('open');
      navOverlay.classList.remove('active');
      document.body.style.overflow = '';
    });
  });

  // Close mobile menu on link click
  navLinks.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', function() {
      menuToggle.classList.remove('active');
      navLinks.classList.remove('open');
      navOverlay.classList.remove('active');
      document.body.style.overflow = '';
    });
  });

  // Active nav link on scroll
  const sections = document.querySelectorAll('section[id]');
  window.addEventListener('scroll', function() {
    const scrollY = window.scrollY + 200;
    sections.forEach(section => {
      const top = section.offsetTop;
      const height = section.offsetHeight;
      const id = section.getAttribute('id');
      const link = navLinks.querySelector(`a[href="#${id}"]`);
      if (link) {
        if (scrollY >= top && scrollY < top + height) {
          link.classList.add('active');
        } else {
          link.classList.remove('active');
        }
      }
    });
  });
}

function toggleLanguage() {
  currentLang = currentLang === 'pt' ? 'en' : 'pt';
  localStorage.setItem('lang', currentLang);
  applyLanguage(currentLang);
  updateLangButton();
}

function updateLangButton() {
  document.getElementById('langFlag').textContent = currentLang === 'pt' ? 'PT' : 'EN';
}

function applyLanguage(lang) {
  document.documentElement.lang = lang;
  document.querySelectorAll('[data-pt][data-en]').forEach(el => {
    const key = el.dataset.pt;
    const text = TRANSLATIONS[lang][key] || (lang === 'pt' ? el.dataset.pt : el.dataset.en);

    if (el.children.length === 0) {
      el.textContent = text;
    } else {
      // Only update the first text node
      const walker = document.createTreeWalker(el, NodeFilter.SHOW_TEXT, null, false);
      const textNode = walker.nextNode();
      if (textNode) {
        textNode.nodeValue = text + ' ';
      }
    }
  });
}

// ===== NAV SCROLL EFFECT =====
function initNavScroll() {
  const nav = document.querySelector('nav');
  window.addEventListener('scroll', function() {
    if (window.scrollY > 80) {
      nav.classList.add('scrolled');
    } else {
      nav.classList.remove('scrolled');
    }
  });
}

// ===== SCROLL REVEAL =====
function initScrollReveal() {
  const observer = new IntersectionObserver(function(entries) {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, {
    threshold: 0.1,
    rootMargin: '0px 0px -60px 0px'
  });

  document.querySelectorAll('.reveal').forEach(el => {
    observer.observe(el);
  });
}

// ===== GALLERY =====
let galleryImages = [];
let currentImageIndex = 0;

function loadGallery() {
  const galleryContainer = document.getElementById('galleryContainer');
  if (!galleryContainer) return;
  
  const imageExtensions = ['png', 'jpg', 'jpeg', 'gif', 'webp'];
  let imagesLoaded = 0;
  let imagesAttempted = 0;
  let totalAttempts = 50 * imageExtensions.length;

  async function loadImages() {
    for (let i = 1; i <= 50; i++) {
      for (const ext of imageExtensions) {
        const imagePath = `img/gallery/${i}.${ext}`;
        imagesAttempted++;

        const img = new Image();
        img.onload = function() {
          imagesLoaded++;
          galleryImages.push(imagePath);

          const galleryItem = document.createElement('div');
          galleryItem.className = 'gallery-item';
          galleryItem.dataset.index = galleryImages.length - 1;
          galleryItem.innerHTML = `
            <img src="${imagePath}" alt="Galeria foto ${imagesLoaded}" loading="lazy" style="width:100%;height:100%;object-fit:cover;">
            <div class="gallery-overlay">
              <p>Foto ${imagesLoaded}</p>
            </div>
          `;

          galleryItem.addEventListener('click', function() {
            openLightbox(parseInt(this.dataset.index));
          });

          galleryContainer.appendChild(galleryItem);
        };
        img.onerror = function() {
          // Image not found, continue
        };
        img.src = imagePath;
      }
    }

    // Check after loading attempts complete
    setTimeout(() => {
      if (imagesLoaded === 0) {
        galleryContainer.innerHTML = '<p style="grid-column:1/-1;text-align:center;color:#999;padding:40px;" data-pt="Nenhuma imagem encontrada." data-en="No images found.">Nenhuma imagem encontrada.</p>';
      }
    }, 3000);
  }

  loadImages();
}

// ===== LIGHTBOX =====
function openLightbox(index) {
  currentImageIndex = index;
  const lightbox = document.getElementById('lightbox');
  const img = document.getElementById('lightboxImg');
  img.src = galleryImages[index];
  lightbox.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeLightbox() {
  const lightbox = document.getElementById('lightbox');
  lightbox.classList.remove('active');
  document.body.style.overflow = '';
}

function navigateLightbox(direction) {
  currentImageIndex += direction;
  if (currentImageIndex < 0) currentImageIndex = galleryImages.length - 1;
  if (currentImageIndex >= galleryImages.length) currentImageIndex = 0;
  document.getElementById('lightboxImg').src = galleryImages[currentImageIndex];
}

document.getElementById('lightboxClose').addEventListener('click', closeLightbox);
document.getElementById('lightboxPrev').addEventListener('click', () => navigateLightbox(-1));
document.getElementById('lightboxNext').addEventListener('click', () => navigateLightbox(1));

document.getElementById('lightbox').addEventListener('click', function(e) {
  if (e.target === this) closeLightbox();
});

document.addEventListener('keydown', function(e) {
  const lightbox = document.getElementById('lightbox');
  if (!lightbox.classList.contains('active')) return;
  if (e.key === 'Escape') closeLightbox();
  if (e.key === 'ArrowLeft') navigateLightbox(-1);
  if (e.key === 'ArrowRight') navigateLightbox(1);
});

// ===== CMS CONTENT LOADER =====
// Loads content from JSON data files managed by Decap CMS
// Falls back gracefully to the hardcoded HTML content if fetch fails
(function() {
  const lang = localStorage.getItem('lang') || 'pt';

  function t(obj) {
    return obj[lang] || obj.pt || '';
  }

  function setI18n(el, ptText, enText) {
    if (!el) return;
    el.setAttribute('data-pt', ptText);
    el.setAttribute('data-en', enText);
    el.textContent = lang === 'en' ? enText : ptText;
  }

  function setI18nWithChildren(el, ptText, enText) {
    if (!el) return;
    el.setAttribute('data-pt', ptText);
    el.setAttribute('data-en', enText);
    const walker = document.createTreeWalker(el, NodeFilter.SHOW_TEXT, null, false);
    const textNode = walker.nextNode();
    if (textNode) {
      textNode.nodeValue = (lang === 'en' ? enText : ptText) + ' ';
    }
  }

  // Load Hero content
  fetch('content/hero.json').then(r => r.json()).then(data => {
    const badge = document.querySelector('.hero-badge');
    if (badge) setI18nWithChildren(badge, data.badge.pt, data.badge.en);

    const chips = document.querySelectorAll('.hero-chip');
    data.chips.forEach((chip, i) => {
      if (chips[i]) setI18n(chips[i], chip.pt, chip.en);
    });

    const heroTitle = document.querySelector('header h1');
    if (heroTitle) setI18n(heroTitle, data.title.pt, data.title.en);

    const heroDesc = document.querySelector('header p');
    if (heroDesc) setI18n(heroDesc, data.description.pt, data.description.en);

    const heroCta = document.querySelector('.hero-cta');
    if (heroCta) {
      setI18nWithChildren(heroCta, data.cta.pt, data.cta.en);
      heroCta.href = data.cta.href;
    }
  }).catch(() => {});

  // Load About content
  fetch('content/about.json').then(r => r.json()).then(data => {
    const section = document.getElementById('sobre');
    if (!section) return;

    const label = section.querySelector('.section-label');
    if (label) setI18n(label, data.label.pt, data.label.en);

    const title = section.querySelector('.section-title');
    if (title) setI18n(title, data.title.pt, data.title.en);

    const text = section.querySelector('.about-text p');
    if (text) setI18n(text, data.text.pt, data.text.en);

    const features = section.querySelectorAll('.about-feature');
    data.features.forEach((feat, i) => {
      if (features[i]) {
        const icon = features[i].querySelector('i');
        if (icon) icon.className = feat.icon;
        const span = features[i].querySelector('span');
        if (span) setI18n(span, feat.pt, feat.en);
      }
    });

    const images = section.querySelectorAll('.img-wrapper img');
    data.images.forEach((src, i) => {
      if (images[i]) images[i].src = src.replace(/^\//, '');
    });
  }).catch(() => {});

  // Load Values content
  fetch('content/values.json').then(r => r.json()).then(data => {
    const section = document.getElementById('valores');
    if (!section) return;

    const label = section.querySelector('.section-label');
    if (label) setI18n(label, data.label.pt, data.label.en);

    const title = section.querySelector('.section-title');
    if (title) setI18n(title, data.title.pt, data.title.en);

    const cards = section.querySelectorAll('.value-card');
    data.items.forEach((item, i) => {
      if (cards[i]) {
        const icon = cards[i].querySelector('.value-icon i');
        if (icon) icon.className = item.icon;
        const h3 = cards[i].querySelector('h3');
        if (h3) setI18n(h3, item.title.pt, item.title.en);
        const p = cards[i].querySelector('p');
        if (p) setI18n(p, item.description.pt, item.description.en);
      }
    });
  }).catch(() => {});

  // Load Contact/Settings content
  fetch('content/settings.json').then(r => r.json()).then(data => {
    const section = document.getElementById('contactos');
    if (!section) return;

    const contactValues = section.querySelectorAll('.contact-value');
    contactValues.forEach(el => {
      const label = el.previousElementSibling || el.parentElement.querySelector('.contact-label');
      if (!label) return;
      const labelText = label.textContent.trim().toLowerCase();

      if (labelText === 'morada' || labelText === 'address') {
        el.textContent = data.address;
      } else if (labelText === 'telefone' || labelText === 'phone') {
        el.innerHTML = '<a href="tel:' + data.phone.replace(/\s/g, '') + '">' + data.phone + '</a>';
      } else if (labelText === 'email') {
        el.innerHTML = '<a href="mailto:' + data.email + '">' + data.email + '</a>';
      } else if (labelText === 'hor√°rio' || labelText === 'hours') {
        setI18n(el, data.hours.pt, data.hours.en);
      }
    });

    // Update social links
    const socialLinks = section.querySelectorAll('.social-links a');
    socialLinks.forEach(link => {
      if (link.querySelector('.fa-facebook-f')) link.href = data.social.facebook;
      if (link.querySelector('.fa-instagram')) link.href = data.social.instagram;
    });

    // Update map
    const iframe = section.querySelector('iframe');
    if (iframe && data.mapEmbed) iframe.src = data.mapEmbed;
  }).catch(() => {});

  // Load CTA content
  fetch('content/cta.json').then(r => r.json()).then(data => {
    const section = document.querySelector('section.cta');
    if (!section) return;

    const h2 = section.querySelector('h2');
    if (h2) setI18n(h2, data.title.pt, data.title.en);

    const p = section.querySelector('p');
    if (p) setI18n(p, data.description.pt, data.description.en);

    const btn = section.querySelector('a');
    if (btn) {
      setI18nWithChildren(btn, data.button.pt, data.button.en);
      btn.href = data.button.href;
    }
  }).catch(() => {});

  // Load Testimonials from individual JSON files
  fetch('content/testimonials/').then(r => r.text()).then(html => {
    // Parse directory listing to find JSON files (works on most static hosts)
    const parser = new DOMParser();
    const doc = parser.parseFromString(html, 'text/html');
    const links = Array.from(doc.querySelectorAll('a'))
      .map(a => a.getAttribute('href'))
      .filter(href => href && href.endsWith('.json'));
    return Promise.all(links.map(f => {
      const url = f.startsWith('content/') ? f : 'content/testimonials/' + f;
      return fetch(url).then(r => r.json());
    }));
  }).then(testimonials => {
    if (!testimonials || testimonials.length === 0) return;
    testimonials.sort((a, b) => (a.order || 0) - (b.order || 0));

    const grid = document.querySelector('.testimonials-grid');
    if (!grid) return;
    grid.innerHTML = '';

    testimonials.forEach(t => {
      const stars = Array(t.stars).fill('<i class="fas fa-star"></i>').join('');
      const card = document.createElement('div');
      card.className = 'testimonial-card';
      card.innerHTML = `
        <div class="testimonial-stars">${stars}</div>
        <p class="testimonial-text" data-pt="${t.text.pt.replace(/"/g, '&quot;')}" data-en="${t.text.en.replace(/"/g, '&quot;')}">${lang === 'en' ? t.text.en : t.text.pt}</p>
        <div class="testimonial-author">
          <div class="testimonial-avatar">${t.avatar}</div>
          <div>
            <div class="testimonial-name">${t.name}</div>
            <div class="testimonial-source"><i class="${t.source.icon}"></i> ${t.source.platform}</div>
          </div>
        </div>
      `;
      grid.appendChild(card);
    });

    // Re-register i18n for new testimonial elements
    grid.querySelectorAll('[data-pt][data-en]').forEach(el => {
      const key = el.dataset.pt;
      if (key) {
        TRANSLATIONS.pt[key] = el.dataset.pt;
        TRANSLATIONS.en[key] = el.dataset.en;
      }
    });
  }).catch(() => {
    // Fallback: try loading known testimonial files directly
    const knownFiles = ['susana-rocha.json', 'natalia-navarro.json', 'thallita-brito.json'];
    Promise.all(knownFiles.map(f => fetch('content/testimonials/' + f).then(r => r.json()).catch(() => null)))
      .then(testimonials => {
        testimonials = testimonials.filter(Boolean);
        if (testimonials.length === 0) return;
        testimonials.sort((a, b) => (a.order || 0) - (b.order || 0));

        const grid = document.querySelector('.testimonials-grid');
        if (!grid) return;
        grid.innerHTML = '';

        testimonials.forEach(t => {
          const stars = Array(t.stars).fill('<i class="fas fa-star"></i>').join('');
          const card = document.createElement('div');
          card.className = 'testimonial-card';
          card.innerHTML = `
            <div class="testimonial-stars">${stars}</div>
            <p class="testimonial-text" data-pt="${t.text.pt.replace(/"/g, '&quot;')}" data-en="${t.text.en.replace(/"/g, '&quot;')}">${lang === 'en' ? t.text.en : t.text.pt}</p>
            <div class="testimonial-author">
              <div class="testimonial-avatar">${t.avatar}</div>
              <div>
                <div class="testimonial-name">${t.name}</div>
                <div class="testimonial-source"><i class="${t.source.icon}"></i> ${t.source.platform}</div>
              </div>
            </div>
          `;
          grid.appendChild(card);
        });

        grid.querySelectorAll('[data-pt][data-en]').forEach(el => {
          const key = el.dataset.pt;
          if (key) {
            TRANSLATIONS.pt[key] = el.dataset.pt;
            TRANSLATIONS.en[key] = el.dataset.en;
          }
        });
      });
  });
})();
</script>

<!-- Netlify Identity: handle invite/confirmation tokens and login redirect -->
<script>
  if (window.netlifyIdentity) {
    window.netlifyIdentity.on('init', user => {
      if (!user) {
        window.netlifyIdentity.on('login', () => {
          document.location.href = '/admin/';
        });
        // Open the Identity modal when arriving via invite/confirmation email link
        const hash = window.location.hash;
        if (hash && (hash.includes('invite_token=') || hash.includes('confirmation_token=') || hash.includes('recovery_token='))) {
          window.netlifyIdentity.open('signup');
        }
      }
    });
  }
</script>

</body>
</html>
